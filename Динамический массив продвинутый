namespace DynamicArrayPro
{
    internal class Program
    {
        static void Main(string[] args)
        {
            const string CommandSum = "sum";
            const string CommandExit = "exit";

            string userInput;

            List<int> numbers = new List<int>();

            // int numberInput;

            bool isWorking = true;

            Console.WriteLine("Введите команду или число: ");
            Console.WriteLine("Команда - " + CommandSum + ", выведет сумму введенных чисел.");
            Console.WriteLine("Команда - " + CommandExit + ", выйдет из приложения.");

            while (isWorking)
            {
                userInput = Console.ReadLine();

                switch (userInput)
                {
                    case CommandSum:
                        Summarize(ref numbers);
                        break;

                    case CommandExit:
                        UseExit(isWorking);
                        break;

                    default:
                        AddNewValue(ref numbers, ref userInput);
                        break;
                }
            }
        }

        static void Summarize(ref List<int> numbers)
        {
            int sum = 0;

            Console.WriteLine(" ");

            for (int i = 0; i < numbers.Count; i++)
            {
                sum += numbers[i];
            }

            Console.WriteLine("Сумма равна: " + sum);
            Console.WriteLine(" ");
        }

        static void UseExit(bool isDoing)
        {
            isDoing = false;
            Console.WriteLine(" ");
            Console.WriteLine("Ok, bye!");
        }

        static void AddNewValue(ref List<int> numbers, ref string userInput)
        {
            if (int.TryParse(userInput, out int numberInput))
            {
                numbers.Add(numberInput);
            }
            else
            {
                Console.WriteLine("Введено недопустимое значение. Попробуй снова: ");
            }
        }
    }
}
